<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InnovateGuide - Project Innovation Partner</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>


<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <img src="{{ url_for('static', filename='images/IG_LOGO.png') }}" alt="InnovateGuide Logo">
                <h1>InnovateGuide</h1>
            </div>
            <nav class="nav">
                <ul>
                    <li><a href="#home">Home</a></li>
                    <li><a href="#trending">Trending</a></li>
                    <li><a href="#new">New Projects</a></li>
                    <li><a href="#categories">Categories</a></li>
                    <li><a href="#top-selling">Top Selling</a></li>
                    <li><a href="#custom-project">Custom Project</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="container">
            <div class="hero-content">
                <h2>Project Innovation Partner</h2>
                <p>Buy, sell, and explore innovative IT projects made by students, for students.</p>

                <!-- Search Bar -->
                <form action="/search" method="GET" class="search-container">
                    <input type="text" name="q" placeholder="Search projects by technology, title, or keyword..." required>
                    <button type="submit">Search</button>
                </form>

                <div class="hero-actions">
                    <a href="/browse_all_projects" class="btn btn-primary">Browse All Projects</a>
                    <a href="/sell_your_project" class="btn btn-secondary">Sell Your Project</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Trending Projects -->
    <section id="trending" class="section trending-projects">
        <div class="container">
            <h2 class="section-title">Trending Projects</h2>
            <p class="section-subtitle">These are projects that are currently getting the most views, downloads, and interest. Stay inspired by what's trending across the InnovateGuide community.</p>

            <div class="projects-carousel">
                <div class="carousel-container">
                    <div class="carousel-track">
                        {% for project in trending_projects %}
                        <div class="project-card">
                            <div class="project-image">
                                <img src="{{ url_for('static', filename='images/' + project.image) }}" alt="{{ project.title }}">
                            </div>
                            <div class="project-info">
                                <h3>{{ project.title }}</h3>
                                <p>{{ project.description }}</p>
                                <div class="project-tags">
                                    {% for tech in project.technology %}
                                    <span class="tag">{{ tech }}</span>
                                    {% endfor %}
                                </div>
                                <div class="project-meta">
                                    <span class="price">₹{{ project.price }}</span>
                                    <span class="difficulty {{ project.difficulty|lower }}">{{ project.difficulty }}</span>
                                </div>
                                <a href="/project/{{ project.id }}" class="btn btn-small">View Details</a>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Newly Added Projects -->
    <section id="new" class="section new-projects">
        <div class="container">
            <h2 class="section-title">Newly Added Projects</h2>
            <p class="section-subtitle">Discover the latest IT projects uploaded by students and developers. Fresh ideas, new technologies, and innovative concepts.</p>

            <div class="projects-carousel">
                <div class="carousel-container">
                    <div class="carousel-track">
                        {% for project in new_projects %}
                        <div class="project-card">
                            <div class="project-image">
                                <img src="{{ url_for('static', filename='images/' + project.image) }}" alt="{{ project.title }}">
                            </div>
                            <div class="project-info">
                                <h3>{{ project.title }}</h3>
                                <p>{{ project.description }}</p>
                                <div class="project-tags">
                                    {% for tech in project.technology %}
                                    <span class="tag">{{ tech }}</span>
                                    {% endfor %}
                                </div>
                                <div class="project-meta">
                                    <span class="price">₹{{ project.price }}</span>
                                    <span class="difficulty {{ project.difficulty|lower }}">{{ project.difficulty }}</span>
                                </div>
                                <a href="/project/{{ project.id }}" class="btn btn-small">View Details</a>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <div class="carousel-nav">
                    <button class="carousel-prev" onclick="moveCarousel('new', -1)">‹</button>
                    <button class="carousel-next" onclick="moveCarousel('new', 1)">›</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Explore Mini Projects -->
    <section id="mini" class="section mini-projects">
        <div class="container">
            <h2 class="section-title">Explore Mini Projects</h2>
            <p class="section-subtitle">Discover affordable, beginner-friendly projects to kickstart your learning journey.</p>

            <div class="projects-carousel">
                <div class="carousel-container">
                    <div class="carousel-track">
                        {% for project in mini_projects %}
                        <div class="project-card">
                            <div class="project-image">
                                <img src="{{ url_for('static', filename='images/' + project.image) }}" alt="{{ project.title }}">
                            </div>
                            <div class="project-info">
                                <h3>{{ project.title }}</h3>
                                <p>{{ project.description }}</p>
                                <div class="project-tags">
                                    {% for tech in project.technology %}
                                    <span class="tag">{{ tech }}</span>
                                    {% endfor %}
                                </div>
                                <div class="project-meta">
                                    <span class="price">₹{{ project.price }}</span>
                                    <span class="difficulty {{ project.difficulty|lower }}">{{ project.difficulty }}</span>
                                </div>
                                <a href="/project/{{ project.id }}" class="btn btn-small">View Details</a>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <div class="carousel-nav">
                    <button class="carousel-prev" onclick="moveCarousel('mini', -1)">‹</button>
                    <button class="carousel-next" onclick="moveCarousel('mini', 1)">›</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Project Categories -->
    <section id="categories" class="section categories">
        <div class="container">
            <h2 class="section-title">Project Categories</h2>
            <p class="section-subtitle">Browse projects by technology or domain — easily find projects that match your skill level, interest, or academic needs.</p>

            <div class="categories-carousel">
                <div class="carousel-container">
                    <div class="carousel-track">
                        {% for category in categories %}
                        <div class="category-card">
                            <div class="category-icon">
    {% if category == "Web Development" %}
        <img src="{{ url_for('static', filename='icons/categories/app-development.png') }}" alt="Web Development">
    {% elif category == "Mobile App" %}
        <img src="{{ url_for('static', filename='icons/categories/smartphone.png') }}" alt="Mobile App">
    {% elif category == "Desktop Application" %}
        <img src="{{ url_for('static', filename='icons/categories/desktop.png') }}" alt="Desktop Application">
    {% elif category == "Data Science" %}
        <img src="{{ url_for('static', filename='icons/categories/data science.png') }}" alt="Data Science">
    {% elif category == "Artificial Intelligence" %}
        <img src="{{ url_for('static', filename='icons/categories/artificial-intelligence.png') }}" alt="AI">
    {% elif category == "Machine Learning" %}
        <img src="{{ url_for('static', filename='icons/categories/machine-learning.png') }}" alt="Machine Learning">
    {% elif category == "Internet of Things" %}
        <img src="{{ url_for('static', filename='icons/categories/iot.png') }}" alt="IoT">
    {% elif category == "Blockchain" %}
        <img src="{{ url_for('static', filename='icons/categories/blc.png') }}" alt="Blockchain">
    {% elif category == "Cybersecurity" %}
        <img src="{{ url_for('static', filename='icons/categories/cyber-security.png') }}" alt="Cybersecurity">
    {% elif category == "Cloud Computing" %}
        <img src="{{ url_for('static', filename='icons/categories/cloud.png') }}" alt="Cloud Computing">
    {% else %}
        <img src="{{ url_for('static', filename='icons/categories/idea.png') }}" alt="General">
    {% endif %}
</div>

                            <div class="category-info">
                                <h3>{{ category }}</h3>
                                <p>Explore {{ category|lower }} projects</p>
                            </div>
                            <a href="/browse_all_projects?category={{ category|lower|replace(' ', '_') }}" class="btn btn-small">Browse</a>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <div class="carousel-nav">
                    <button class="carousel-prev" onclick="moveCarousel('categories', -1)">‹</button>
                    <button class="carousel-next" onclick="moveCarousel('categories', 1)">›</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Top Selling Projects -->
    <section id="top-selling" class="section top-selling-projects">
        <div class="container">
            <h2 class="section-title">Top Selling Projects</h2>
            <p class="section-subtitle">Discover the most purchased and highly rated projects that students love the most.</p>

            <div class="projects-carousel">
                <div class="carousel-container">
                    <div class="carousel-track">
                        {% for project in top_selling_projects %}
                        <div class="project-card">
                            <div class="project-image">
                                <img src="{{ url_for('static', filename='images/' + project.image) }}" alt="{{ project.title }}">
                                <div class="sales-badge">{{ project.sales_count }} sold</div>
                            </div>
                            <div class="project-info">
                                <h3>{{ project.title }}</h3>
                                <p>{{ project.description }}</p>
                                <div class="project-tags">
                                    {% for tech in project.technology %}
                                    <span class="tag">{{ tech }}</span>
                                    {% endfor %}
                                </div>
                                <div class="project-meta">
                                    <span class="price">₹{{ project.price }}</span>
                                    <span class="difficulty {{ project.difficulty|lower }}">{{ project.difficulty }}</span>
                                </div>
                                <a href="/project/{{ project.id }}" class="btn btn-small">View Details</a>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <div class="carousel-nav">
                    <button class="carousel-prev" onclick="moveCarousel('trending', -1)">‹</button>
                    <button class="carousel-next" onclick="moveCarousel('trending', 1)">›</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Make Custom Project Section -->
    <section id="custom-project" class="section custom-project">
        <div class="container">
            <div class="custom-project-content">
                <h2>Make Custom Project for You</h2>
                <p>Need a project tailored to your specific requirements? Our student developers can create custom solutions just for you.</p>

                <form action="/custom_project_request" method="POST" class="custom-project-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="name">Your Name</label>
                            <input type="text" id="name" name="name" placeholder="Enter your full name" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="email" id="email" name="email" placeholder="Enter your email address" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="project-type">Project Type</label>
                            <select id="project-type" name="project_type" required>
                                <option value="">Select project type</option>
                                <option value="web">Web Development</option>
                                <option value="mobile">Mobile App</option>
                                <option value="desktop">Desktop Application</option>
                                <option value="ai">AI/ML Project</option>
                                <option value="data">Data Science</option>
                                <option value="iot">IoT Project</option>
                                <option value="game">Game Development</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="budget">Budget Range</label>
                            <select id="budget" name="budget" required>
                                <option value="">Select budget range</option>
                                <option value="under-50">Under ₹50</option>
                                <option value="50-100">₹50 - ₹100</option>
                                <option value="100-200">₹100 - ₹200</option>
                                <option value="200-500">₹200 - ₹500</option>
                                <option value="over-500">Over ₹500</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="technologies">Preferred Technologies</label>
                            <input type="text" id="technologies" name="technologies" placeholder="e.g., Python, React, MongoDB, etc.">
                            <small>Separate technologies with commas</small>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group full-width">
                            <label for="deadline">Project Deadline</label>
                            <input type="date" id="deadline" name="deadline" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group full-width">
                            <label for="description">Project Requirements</label>
                            <textarea id="description" name="description" rows="6" placeholder="Describe your project requirements in detail. Include features, functionalities, and any specific needs..." required></textarea>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group full-width">
                            <label for="additional-info">Additional Information</label>
                            <textarea id="additional-info" name="additional_info" rows="3" placeholder="Any additional requirements, constraints, or special considerations..."></textarea>
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary">Request Custom Project</button>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <img src="{{ url_for('static', filename='images/IG_whiteLOGO.png') }}" alt="InnovateGuide Logo">
                    <h3>InnovateGuide</h3>
                    <p>Project Innovation Partner</p>
                </div>
                <div class="footer-links">
                    <div class="footer-column">
                        <h4>Explore</h4>
                        <ul>
                            <li><a href="#trending">Trending Projects</a></li>
                            <li><a href="#new">New Projects</a></li>
                            <li><a href="#categories">Categories</a></li>
                            <li><a href="#top-selling">Top Selling</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h4>Resources</h4>
                        <ul>
                            <li><a href="#custom-project">Custom Project</a></li>
                            <li><a href="/sell_your_project">Sell Your Project</a></li>
                            <li><a href="#">How It Works</a></li>
                            <li><a href="#">FAQ</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h4>Company</h4>
                        <ul>
                            <li><a href="#">About Us</a></li>
                            <li><a href="#">Contact</a></li>
                            <li><a href="#">Privacy Policy</a></li>
                            <li><a href="#">Terms of Service</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 InnovateGuide. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Carousel functionality - FIXED FOR 3 PROJECTS VISIBLE
        const carouselStates = {
            'trending': 0,
            'new': 0,
            'mini': 0,
            'categories': 0,
            'top-selling': 0
        };

        function moveCarousel(section, direction) {
            const track = document.querySelector(`#${section} .carousel-track`);
            let cards, cardWidth;

            if (section === 'categories') {
                cards = document.querySelectorAll(`#${section} .category-card`);
                cardWidth = cards[0].offsetWidth + 30; // Dynamic width + gap for categories
            } else {
                cards = document.querySelectorAll(`#${section} .project-card`);
                cardWidth = cards[0].offsetWidth + 25; // card width + gap
            }

            if (!track || cards.length === 0) return;

            const visibleCards = 3; // Always show 3 items
            const maxPosition = Math.max(0, cards.length - visibleCards);

            carouselStates[section] += direction;
            carouselStates[section] = Math.max(0, Math.min(carouselStates[section], maxPosition));

            track.style.transform = `translateX(-${carouselStates[section] * cardWidth}px)`;

            // Update button states
            updateCarouselButtons(section, maxPosition);

            // Restart auto-play for categories after manual navigation
            if (section === 'categories') {
                stopAutoPlay();
                setTimeout(() => {
                    startAutoPlay();
                }, 1000); // Restart after 1 second delay
            }
        }

        function updateCarouselButtons(section, maxPosition) {
            const prevBtn = document.querySelector(`#${section} .carousel-prev`);
            const nextBtn = document.querySelector(`#${section} .carousel-next`);

            if (prevBtn) {
                prevBtn.style.opacity = carouselStates[section] === 0 ? '0.5' : '1';
                prevBtn.style.cursor = carouselStates[section] === 0 ? 'not-allowed' : 'pointer';
            }

            if (nextBtn) {
                nextBtn.style.opacity = carouselStates[section] === maxPosition ? '0.5' : '1';
                nextBtn.style.cursor = carouselStates[section] === maxPosition ? 'not-allowed' : 'pointer';
            }
        }

        // Auto-play functionality for categories carousel
        let autoPlayInterval;

        function startAutoPlay() {
            // Only start auto-play if not at the end
            const maxPosition = Math.max(0, document.querySelectorAll('#categories .category-card').length - 3);
            if (carouselStates['categories'] < maxPosition) {
                autoPlayInterval = setInterval(() => {
                    moveCarousel('categories', 1); // Auto-advance to next
                }, 4000); // Change slide every 4 seconds
            }
        }

        function stopAutoPlay() {
            clearInterval(autoPlayInterval);
        }

        // Initialize carousels
        document.addEventListener('DOMContentLoaded', function() {
            // Set initial positions and button states
            Object.keys(carouselStates).forEach(section => {
                const track = document.querySelector(`#${section} .carousel-track`);
                let cards;

                if (section === 'categories') {
                    cards = document.querySelectorAll(`#${section} .category-card`);
                } else {
                    cards = document.querySelectorAll(`#${section} .project-card`);
                }

                if (track && cards.length > 0) {
                    track.style.transform = 'translateX(0)';
                    const maxPosition = Math.max(0, cards.length - 3);
                    updateCarouselButtons(section, maxPosition);
                }
            });

            // Start auto-play for categories carousel
            // startAutoPlay();

                // // Pause auto-play on hover
                // const categoriesSection = document.getElementById('categories');
                // if (categoriesSection) {
                //     categoriesSection.addEventListener('mouseenter', stopAutoPlay);
                //     categoriesSection.addEventListener('mouseleave', startAutoPlay);
                // }
        });
    </script>
    
</body>
</html>